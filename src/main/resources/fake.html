<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">

    <script>
   function send(){
        function getXmlHttp(){
            var xmlhttp
            try{xmlhttp= new ActiveXObject("Msxml2.XMLHTTP");
                } catch(e){
                     try{xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");} catch (e){xmlhttp = false}
            }
            if (!xmlhttp && typeof XMLHttpRequest!='undefined') xmlhttp = new XMLHttpRequest()
            return xmlhttp
        }
        var xhr =  new XMLHttpRequest();
        var request = "/aj"
        xhr.open("POST", request, true)
        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
        xhr.onreadystatechange=function(){
        if (xhr.readyState != 4) return clearTimeout(xhrTimeout)
        if (xhr.status == 200)  alert("response      "+xhr.responseText)
        }
        xhr.send("name=12")
        var xhrTimeout = setTimeout( function(){ xhr.abort(); handleError("Timeout") }, 10000);

        function handleError(message) {
              alert("Ошибка: "+message)
    }
}
    </script>
</head>

<body>
<button onclick="send()">Click me</button>


</body>
</html>
